import{PublicKey as I,TransactionInstruction as x,SYSVAR_CLOCK_PUBKEY as K}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as m}from"@solana/spl-token";import{TOKEN_PROGRAM_ID as w}from"@solana/spl-token";import{PublicKey as e,SystemProgram as _,SYSVAR_RENT_PUBKEY as B}from"@solana/web3.js";function p({pubkey:r,isSigner:t=!1,isWritable:n=!0}){return{pubkey:r,isWritable:n,isSigner:t}}var N=[p({pubkey:w,isWritable:!1}),p({pubkey:_.programId,isWritable:!1}),p({pubkey:B,isWritable:!1})];var E=new e("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),g=new e("SysvarRent111111111111111111111111111111111"),P=new e("SysvarC1ock11111111111111111111111111111111"),W=new e("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),O=new e("Sysvar1nstructions1111111111111111111111111"),v=new e("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),V=new e("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),q=new e("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Y=new e("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),G=new e("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),j=new e("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),X=new e("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),z=new e("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),F=new e("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),H=new e("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),J=new e("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),Q=new e("So11111111111111111111111111111111111111112"),Z=e.default;import{PublicKey as rt}from"@solana/web3.js";import st,{isBN as ut}from"bn.js";import{bits as te,BitStructure as ne,blob as re,Blob as oe,cstr as se,f32 as ue,f32be as ae,f64 as ie,f64be as ce,greedy as ye,Layout as pe,ns64 as Pe,ns64be as de,nu64 as k,nu64be as be,offset as fe,s16 as le,s16be as xe,s24 as me,s24be as ge,s32 as Le,s32be as Se,s40 as Te,s40be as he,s48 as we,s48be as _e,s8 as Be,seq as ke,struct as Ue,Structure as U,u16 as Ae,u16be as Ie,u24 as Ke,u24be as Ce,u32 as Me,u32be as Re,u40 as De,u40be as Ne,u48 as Ee,u48be as We,u8 as Oe,UInt as A,union as ve,Union as Ve,unionLayoutDiscriminator as qe,utf8 as Ye}from"@solana/buffer-layout";var L=U;var S=A;var T=k;function b(r){return new S(1,r)}var d=class extends L{decode(t,n){return super.decode(t,n)}};function f(r,t,n){return new d(r,t,n)}var l=f([b("instruction"),T("amount")]),a=f([b("instruction")]);function lt({programId:r,amount:t,instructionKeys:n}){let o=[{pubkey:new I("11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},...Object.entries(n).map(([u,i])=>({pubkey:i,isSigner:u==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(u)}))],s=Buffer.alloc(l.span);return l.encode({instruction:1,amount:Number(t)},s),new x({keys:o,programId:r,data:s})}function xt({programId:r},t){let n=[{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},...Object.entries(t).map(([s,u])=>({pubkey:u,isSigner:s==="userOwner",isWritable:!["authority","userOwner"].includes(s)}))],o=Buffer.alloc(a.span);return a.encode({instruction:2},o),new x({keys:n,programId:r,data:o})}function mt(r){let{poolConfig:t,userKeys:n,side:o}=r,s=o==="base"?n.baseTokenAccount:n.quoteTokenAccount,u=o==="base"?t.baseVault:t.quoteVault,i=Buffer.alloc(a.span);a.encode({instruction:2},i);let h=[{pubkey:m,isWritable:!1,isSigner:!1},{pubkey:K,isWritable:!1,isSigner:!1},{pubkey:t.id,isWritable:!0,isSigner:!1},{pubkey:t.authority,isWritable:!1,isSigner:!1},{pubkey:u,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:n.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:n.owner,isWritable:!1,isSigner:!0}];return new x({programId:t.programId,keys:h,data:i})}export{xt as makeClaimInstruction,mt as makeClaimInstructionV4,lt as makePurchaseInstruction};
//# sourceMappingURL=instruction.mjs.map