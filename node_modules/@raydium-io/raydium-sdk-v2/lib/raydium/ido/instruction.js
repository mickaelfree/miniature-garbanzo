var U=Object.create;var p=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var K=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var M=(t,n)=>{for(var r in n)p(t,r,{get:n[r],enumerable:!0})},L=(t,n,r,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of I(n))!C.call(t,s)&&s!==r&&p(t,s,{get:()=>n[s],enumerable:!(u=A(n,s))||u.enumerable});return t};var R=(t,n,r)=>(r=t!=null?U(K(t)):{},L(n||!t||!t.__esModule?p(r,"default",{value:t,enumerable:!0}):r,t)),D=t=>L(p({},"__esModule",{value:!0}),t);var v={};M(v,{makeClaimInstruction:()=>W,makeClaimInstructionV4:()=>O,makePurchaseInstruction:()=>E});module.exports=D(v);var a=require("@solana/web3.js"),d=require("@solana/spl-token");var S=require("@solana/spl-token"),o=require("@solana/web3.js");function b({pubkey:t,isSigner:n=!1,isWritable:r=!0}){return{pubkey:t,isWritable:r,isSigner:n}}var Y=[b({pubkey:S.TOKEN_PROGRAM_ID,isWritable:!1}),b({pubkey:o.SystemProgram.programId,isWritable:!1}),b({pubkey:o.SYSVAR_RENT_PUBKEY,isWritable:!1})];var G=new o.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),T=new o.PublicKey("SysvarRent111111111111111111111111111111111"),f=new o.PublicKey("SysvarC1ock11111111111111111111111111111111"),j=new o.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),X=new o.PublicKey("Sysvar1nstructions1111111111111111111111111"),z=new o.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),F=new o.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),H=new o.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),J=new o.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Q=new o.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Z=new o.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),$=new o.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),ee=new o.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),te=new o.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),ne=new o.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),re=new o.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),oe=new o.PublicKey("So11111111111111111111111111111111111111112"),se=o.PublicKey.default;var N=require("@solana/web3.js"),B=R(require("bn.js"));var e=require("@solana/buffer-layout");var h=e.Structure;var w=e.UInt;var _=e.nu64;function x(t){return new w(1,t)}var l=class extends h{decode(n,r){return super.decode(n,r)}};function m(t,n,r){return new l(t,n,r)}var g=m([x("instruction"),_("amount")]),c=m([x("instruction")]);function E({programId:t,amount:n,instructionKeys:r}){let u=[{pubkey:new a.PublicKey("11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...Object.entries(r).map(([i,y])=>({pubkey:y,isSigner:i==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(i)}))],s=Buffer.alloc(g.span);return g.encode({instruction:1,amount:Number(n)},s),new a.TransactionInstruction({keys:u,programId:t,data:s})}function W({programId:t},n){let r=[{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...Object.entries(n).map(([s,i])=>({pubkey:i,isSigner:s==="userOwner",isWritable:!["authority","userOwner"].includes(s)}))],u=Buffer.alloc(c.span);return c.encode({instruction:2},u),new a.TransactionInstruction({keys:r,programId:t,data:u})}function O(t){let{poolConfig:n,userKeys:r,side:u}=t,s=u==="base"?r.baseTokenAccount:r.quoteTokenAccount,i=u==="base"?n.baseVault:n.quoteVault,y=Buffer.alloc(c.span);c.encode({instruction:2},y);let k=[{pubkey:d.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:n.id,isWritable:!0,isSigner:!1},{pubkey:n.authority,isWritable:!1,isSigner:!1},{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:r.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:r.owner,isWritable:!1,isSigner:!0}];return new a.TransactionInstruction({programId:n.programId,keys:k,data:y})}0&&(module.exports={makeClaimInstruction,makeClaimInstructionV4,makePurchaseInstruction});
//# sourceMappingURL=instruction.js.map