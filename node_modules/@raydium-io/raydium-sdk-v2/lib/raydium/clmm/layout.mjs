var tn=Object.defineProperty,nn=Object.defineProperties;var rn=Object.getOwnPropertyDescriptors;var ft=Object.getOwnPropertySymbols;var on=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable;var pt=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J=(e,t)=>{for(var n in t||(t={}))on.call(t,n)&&pt(e,n,t[n]);if(ft)for(var n of ft(t))sn.call(t,n)&&pt(e,n,t[n]);return e},ee=(e,t)=>nn(e,rn(t));import{PublicKey as gn}from"@solana/web3.js";import yt,{isBN as wt}from"bn.js";import{bits as Hr,BitStructure as Yr,blob as an,Blob as Zr,cstr as jr,f32 as Qr,f32be as Jr,f64 as $r,f64be as ei,greedy as ti,Layout as un,ns64 as ni,ns64be as ri,nu64 as ii,nu64be as oi,offset as si,s16 as ai,s16be as ui,s24 as ci,s24be as li,s32 as cn,s32be as mi,s40 as di,s40be as fi,s48 as pi,s48be as gi,s8 as hi,seq as ln,struct as bi,Structure as mn,u16 as dn,u16be as yi,u24 as wi,u24be as Ti,u32 as xi,u32be as Ai,u40 as ki,u40be as Pi,u48 as Bi,u48be as Ii,u8 as fn,UInt as pn,union as Ni,Union as Si,unionLayoutDiscriminator as Ci,utf8 as Li}from"@solana/buffer-layout";var Ue=un,gt=mn;var We=pn;var ht=fn,ce=dn;var te=cn;var bt=ln;var V=an;var ge=class extends Ue{constructor(n,r,i){super(n,i);this.blob=V(n),this.signed=r}decode(n,r=0){let i=new yt(this.blob.decode(n,r),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(n,r,i=0){return typeof n=="number"&&(n=new yt(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),r,i)}};function U(e){return new We(1,e)}function he(e){return new We(4,e)}function k(e){return new ge(8,!1,e)}function P(e){return new ge(16,!1,e)}function Tt(e){return new ge(16,!0,e)}var Be=class extends Ue{constructor(n,r,i,o){super(n.span,o);this.layout=n,this.decoder=r,this.encoder=i}decode(n,r){return this.decoder(this.layout.decode(n,r))}encode(n,r,i){return this.layout.encode(this.encoder(n),r,i)}getSpan(n,r){return this.layout.getSpan(n,r)}};function E(e){return new Be(V(32),t=>new gn(t),t=>t.toBuffer(),e)}function xt(e){return new Be(ht(),hn,bn,e)}function hn(e){if(e===0)return!1;if(e===1)return!0;throw new Error("Invalid bool: "+e)}function bn(e){return e?1:0}var Xe=class extends gt{decode(t,n){return super.decode(t,n)}};function G(e,t,n){return new Xe(e,t,n)}function L(e,t,n){let r,i=typeof t=="number"?t:wt(t)?t.toNumber():new Proxy(t,{get(o,s){if(!r){let a=Reflect.get(o,"count");r=wt(a)?a.toNumber():a,Reflect.set(o,"count",r)}return Reflect.get(o,s)},set(o,s,a){return s==="count"&&(r=a),Reflect.set(o,s,a)}});return bt(e,i,n)}import El from"bn.js";var le=9e15,oe=1e9,ze="0123456789abcdef",Ne="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Se="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",He={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-le,maxE:le,crypto:!1},Bt,$,b=!0,Le="[DecimalError] ",ie=Le+"Invalid argument: ",It=Le+"Precision limit exceeded",Nt=Le+"crypto unavailable",St="[object Decimal]",M=Math.floor,R=Math.pow,yn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,wn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Tn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Ct=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Y=1e7,h=7,xn=9007199254740991,An=Ne.length-1,Ye=Se.length-1,f={toStringTag:St};f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),p(e)};f.ceil=function(){return p(new this.constructor(this),this.e+1,2)};f.clampedTo=f.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(ie+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};f.comparedTo=f.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,c=o.s,u=e.s;if(!s||!a)return!c||!u?NaN:c!==u?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-u:0;if(c!==u)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(r=s.length,i=a.length,t=0,n=r<i?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};f.cosine=f.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+h,r.rounding=1,n=kn(r,Ot(r,n)),r.precision=e,r.rounding=t,p($==2||$==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};f.cubeRoot=f.cbrt=function(){var e,t,n,r,i,o,s,a,c,u,l=this,m=l.constructor;if(!l.isFinite()||l.isZero())return new m(l);for(b=!1,o=l.s*R(l.s*l,1/3),!o||Math.abs(o)==1/0?(n=F(l.d),e=l.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=R(n,1/3),e=M((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new m(n),r.s=l.s):r=new m(o.toString()),s=(e=m.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(l),r=B(u.plus(l).times(a),u.plus(c),s+2,1),F(a.d).slice(0,s)===(n=F(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!i&&n=="4999"){if(!i&&(p(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(p(r,e+1,1),t=!r.times(r).times(r).eq(l));break}return b=!0,p(r,e,m.rounding,t)};f.decimalPlaces=f.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-M(this.e/h))*h,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};f.dividedBy=f.div=function(e){return B(this,new this.constructor(e))};f.dividedToIntegerBy=f.divToInt=function(e){var t=this,n=t.constructor;return p(B(t,new n(e),0,1,1),n.precision,n.rounding)};f.equals=f.eq=function(e){return this.cmp(e)===0};f.floor=function(){return p(new this.constructor(this),this.e+1,3)};f.greaterThan=f.gt=function(e){return this.cmp(e)>0};f.greaterThanOrEqualTo=f.gte=function(e){var t=this.cmp(e);return t==1||t===0};f.hyperbolicCosine=f.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(e=Math.ceil(i/3),t=(1/Re(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=me(s,1,o.times(t),new s(1),!0);for(var c,u=e,l=new s(8);u--;)c=o.times(o),o=a.minus(c.times(l.minus(c.times(l))));return p(o,s.precision=n,s.rounding=r,!0)};f.hyperbolicSine=f.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=me(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/Re(5,e)),i=me(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),u=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(u))))}return o.precision=t,o.rounding=n,p(i,t,n,!0)};f.hyperbolicTangent=f.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,B(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};f.inverseCosine=f.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?r===0?t.isNeg()?H(n,i,o):new n(0):new n(NaN):t.isZero()?H(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=H(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))};f.inverseHyperbolicCosine=f.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,b=!1,n=n.times(n).minus(1).sqrt().plus(n),b=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};f.inverseHyperbolicSine=f.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,b=!1,n=n.times(n).plus(1).sqrt().plus(n),b=!0,r.precision=e,r.rounding=t,n.ln())};f.inverseHyperbolicTangent=f.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?p(new o(i),e,t,!0):(o.precision=n=r-i.e,i=B(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)};f.inverseSine=f.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,t!==-1?t===0?(e=H(o,n+4,r).times(.5),e.s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};f.inverseTangent=f.atan=function(){var e,t,n,r,i,o,s,a,c,u=this,l=u.constructor,m=l.precision,d=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&m+4<=Ye)return s=H(l,m+4,d).times(.25),s.s=u.s,s}else{if(!u.s)return new l(NaN);if(m+4<=Ye)return s=H(l,m+4,d).times(.5),s.s=u.s,s}for(l.precision=a=m+10,l.rounding=1,n=Math.min(28,a/h+2|0),e=n;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(b=!1,t=Math.ceil(a/h),r=1,c=u.times(u),s=new l(u),i=u;e!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),s=o.plus(i.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),b=!0,p(s,l.precision=m,l.rounding=d,!0)};f.isFinite=function(){return!!this.d};f.isInteger=f.isInt=function(){return!!this.d&&M(this.e/h)>this.d.length-2};f.isNaN=function(){return!this.s};f.isNegative=f.isNeg=function(){return this.s<0};f.isPositive=f.isPos=function(){return this.s>0};f.isZero=function(){return!!this.d&&this.d[0]===0};f.lessThan=f.lt=function(e){return this.cmp(e)<0};f.lessThanOrEqualTo=f.lte=function(e){return this.cmp(e)<1};f.logarithm=f.log=function(e){var t,n,r,i,o,s,a,c,u=this,l=u.constructor,m=l.precision,d=l.rounding,g=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(b=!1,a=m+g,s=re(u,a),r=t?Ce(l,a+10):re(e,a),c=B(s,r,a,1),be(c.d,i=m,d))do if(a+=10,s=re(u,a),r=t?Ce(l,a+10):re(e,a),c=B(s,r,a,1),!o){+F(c.d).slice(i+1,i+15)+1==1e14&&(c=p(c,m+1,0));break}while(be(c.d,i+=10,d));return b=!0,p(c,m,d)};f.minus=f.sub=function(e){var t,n,r,i,o,s,a,c,u,l,m,d,g=this,x=g.constructor;if(e=new x(e),!g.d||!e.d)return!g.s||!e.s?e=new x(NaN):g.d?e.s=-e.s:e=new x(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(u=g.d,d=e.d,a=x.precision,c=x.rounding,!u[0]||!d[0]){if(d[0])e.s=-e.s;else if(u[0])e=new x(g);else return new x(c===3?-0:0);return b?p(e,a,c):e}if(n=M(e.e/h),l=M(g.e/h),u=u.slice(),o=l-n,o){for(m=o<0,m?(t=u,o=-o,s=d.length):(t=d,n=l,s=u.length),r=Math.max(Math.ceil(a/h),s)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=u.length,s=d.length,m=r<s,m&&(s=r),r=0;r<s;r++)if(u[r]!=d[r]){m=u[r]<d[r];break}o=0}for(m&&(t=u,u=d,d=t,e.s=-e.s),s=u.length,r=d.length-s;r>0;--r)u[s++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&u[--i]===0;)u[i]=Y-1;--u[i],u[r]+=Y}u[r]-=d[r]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=Ee(u,n),b?p(e,a,c):e):new x(c===3?-0:0)};f.modulo=f.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?p(new r(n),r.precision,r.rounding):(b=!1,r.modulo==9?(t=B(n,e.abs(),0,3,1),t.s*=e.s):t=B(n,e,0,r.modulo,1),t=t.times(e),b=!0,n.minus(t))};f.naturalExponential=f.exp=function(){return Ze(this)};f.naturalLogarithm=f.ln=function(){return re(this)};f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s,p(e)};f.plus=f.add=function(e){var t,n,r,i,o,s,a,c,u,l,m=this,d=m.constructor;if(e=new d(e),!m.d||!e.d)return!m.s||!e.s?e=new d(NaN):m.d||(e=new d(e.d||m.s===e.s?m:NaN)),e;if(m.s!=e.s)return e.s=-e.s,m.minus(e);if(u=m.d,l=e.d,a=d.precision,c=d.rounding,!u[0]||!l[0])return l[0]||(e=new d(m)),b?p(e,a,c):e;if(o=M(m.e/h),r=M(e.e/h),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,s=l.length):(n=l,r=o,s=u.length),o=Math.ceil(a/h),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=u.length,i=l.length,s-i<0&&(i=s,n=l,l=u,u=n),t=0;i;)t=(u[--i]=u[i]+l[i]+t)/Y|0,u[i]%=Y;for(t&&(u.unshift(t),++r),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=Ee(u,r),b?p(e,a,c):e};f.precision=f.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ie+e);return n.d?(t=Lt(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};f.round=function(){var e=this,t=e.constructor;return p(new t(e),e.e+1,t.rounding)};f.sine=f.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+h,r.rounding=1,n=Bn(r,Ot(r,n)),r.precision=e,r.rounding=t,p($>2?n.neg():n,e,t,!0)):new r(NaN)};f.squareRoot=f.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,c=s.e,u=s.s,l=s.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(b=!1,u=Math.sqrt(+s),u==0||u==1/0?(t=F(a),(t.length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=M((c+1)/2)-(c<0||c%2),u==1/0?t="5e"+c:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new l(t)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(o=r,r=o.plus(B(s,o,n+2,1)).times(.5),F(o.d).slice(0,n)===(t=F(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(p(o,c+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(p(r,c+1,1),e=!r.times(r).eq(s));break}return b=!0,p(r,c,l.rounding,e)};f.tangent=f.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=B(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,p($==2||$==4?n.neg():n,e,t,!0)):new r(NaN)};f.times=f.mul=function(e){var t,n,r,i,o,s,a,c,u,l=this,m=l.constructor,d=l.d,g=(e=new m(e)).d;if(e.s*=l.s,!d||!d[0]||!g||!g[0])return new m(!e.s||d&&!d[0]&&!g||g&&!g[0]&&!d?NaN:!d||!g?e.s/0:e.s*0);for(n=M(l.e/h)+M(e.e/h),c=d.length,u=g.length,c<u&&(o=d,d=g,g=o,s=c,c=u,u=s),o=[],s=c+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)a=o[i]+g[r]*d[i-r-1]+t,o[i--]=a%Y|0,t=a/Y|0;o[i]=(o[i]+t)%Y|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=Ee(o,n),b?p(e,m.precision,m.rounding):e};f.toBinary=function(e,t){return Qe(this,2,e,t)};f.toDecimalPlaces=f.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(v(e,0,oe),t===void 0?t=r.rounding:v(t,0,8),p(n,e+n.e+1,t))};f.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Z(r,!0):(v(e,0,oe),t===void 0?t=i.rounding:v(t,0,8),r=p(new i(r),e+1,t),n=Z(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};f.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?n=Z(i):(v(e,0,oe),t===void 0?t=o.rounding:v(t,0,8),r=p(new o(i),e+i.e+1,t),n=Z(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};f.toFraction=function(e){var t,n,r,i,o,s,a,c,u,l,m,d,g=this,x=g.d,y=g.constructor;if(!x)return new y(g);if(u=n=new y(1),r=c=new y(0),t=new y(r),o=t.e=Lt(x)-g.e-1,s=o%h,t.d[0]=R(10,s<0?h+s:s),e==null)e=o>0?t:u;else{if(a=new y(e),!a.isInt()||a.lt(u))throw Error(ie+a);e=a.gt(t)?o>0?t:u:a}for(b=!1,a=new y(F(x)),l=y.precision,y.precision=o=x.length*h*2;m=B(a,t,0,1,1),i=n.plus(m.times(r)),i.cmp(e)!=1;)n=r,r=i,i=u,u=c.plus(m.times(i)),c=i,i=t,t=a.minus(m.times(i)),a=i;return i=B(e.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=g.s,d=B(u,r,o,1).minus(g).abs().cmp(B(c,n,o,1).minus(g).abs())<1?[u,r]:[c,n],y.precision=l,b=!0,d};f.toHexadecimal=f.toHex=function(e,t){return Qe(this,16,e,t)};f.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:v(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(b=!1,n=B(n,e,0,t,1).times(e),b=!0,p(n)):(e.s=n.s,n=e),n};f.toNumber=function(){return+this};f.toOctal=function(e,t){return Qe(this,8,e,t)};f.toPower=f.pow=function(e){var t,n,r,i,o,s,a=this,c=a.constructor,u=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(R(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,o=c.rounding,e.eq(1))return p(a,r,o);if(t=M(e.e/h),t>=e.d.length-1&&(n=u<0?-u:u)<=xn)return i=Et(c,a,n,r),e.s<0?new c(1).div(i):p(i,r,o);if(s=a.s,s<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return n=R(+a,u),t=n==0||!isFinite(n)?M(u*(Math.log("0."+F(a.d))/Math.LN10+a.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?s/0:0):(b=!1,c.rounding=a.s=1,n=Math.min(12,(t+"").length),i=Ze(e.times(re(a,r+n)),r),i.d&&(i=p(i,r+5,1),be(i.d,r,o)&&(t=r+10,i=p(Ze(e.times(re(a,t+n)),t),t+5,1),+F(i.d).slice(r+1,r+15)+1==1e14&&(i=p(i,r+1,0)))),i.s=s,b=!0,c.rounding=o,p(i,r,o))};f.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Z(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(v(e,1,oe),t===void 0?t=i.rounding:v(t,0,8),r=p(new i(r),e,t),n=Z(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};f.toSignificantDigits=f.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(v(e,1,oe),t===void 0?t=r.rounding:v(t,0,8)),p(new r(n),e,t)};f.toString=function(){var e=this,t=e.constructor,n=Z(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};f.truncated=f.trunc=function(){return p(new this.constructor(this),this.e+1,1)};f.valueOf=f.toJSON=function(){var e=this,t=e.constructor,n=Z(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function F(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=h-r.length,n&&(o+=ne(n)),o+=r;s=e[t],r=s+"",n=h-r.length,n&&(o+=ne(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ie+e)}function be(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=h,i=0):(i=Math.ceil((t+1)/h),t%=h),o=R(10,h-t),a=e[i]%o|0,r==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),s=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==R(10,t-2)-1||(a==o/2||a==0)&&(e[i+1]/o/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),s=(r||n<4)&&a==9999||!r&&n>3&&a==4999):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==R(10,t-3)-1,s}function Ie(e,t,n){for(var r,i=[0],o,s=0,a=e.length;s<a;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=ze.indexOf(e.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function kn(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/Re(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=me(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var B=function(){function e(r,i,o){var s,a=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+a,r[c]=s%o|0,a=s/o|0;return a&&r.unshift(a),r}function t(r,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,o,s){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,a,c){var u,l,m,d,g,x,y,_,S,X,A,O,xe,Q,qe,Ae,pe,Ge,z,ke,Pe=r.constructor,Ve=r.s==i.s?1:-1,D=r.d,I=i.d;if(!D||!D[0]||!I||!I[0])return new Pe(!r.s||!i.s||(D?I&&D[0]==I[0]:!I)?NaN:D&&D[0]==0||!I?Ve*0:Ve/0);for(c?(g=1,l=r.e-i.e):(c=Y,g=h,l=M(r.e/g)-M(i.e/g)),z=I.length,pe=D.length,S=new Pe(Ve),X=S.d=[],m=0;I[m]==(D[m]||0);m++);if(I[m]>(D[m]||0)&&l--,o==null?(Q=o=Pe.precision,s=Pe.rounding):a?Q=o+(r.e-i.e)+1:Q=o,Q<0)X.push(1),x=!0;else{if(Q=Q/g+2|0,m=0,z==1){for(d=0,I=I[0],Q++;(m<pe||d)&&Q--;m++)qe=d*c+(D[m]||0),X[m]=qe/I|0,d=qe%I|0;x=d||m<pe}else{for(d=c/(I[0]+1)|0,d>1&&(I=e(I,d,c),D=e(D,d,c),z=I.length,pe=D.length),Ae=z,A=D.slice(0,z),O=A.length;O<z;)A[O++]=0;ke=I.slice(),ke.unshift(0),Ge=I[0],I[1]>=c/2&&++Ge;do d=0,u=t(I,A,z,O),u<0?(xe=A[0],z!=O&&(xe=xe*c+(A[1]||0)),d=xe/Ge|0,d>1?(d>=c&&(d=c-1),y=e(I,d,c),_=y.length,O=A.length,u=t(y,A,_,O),u==1&&(d--,n(y,z<_?ke:I,_,c))):(d==0&&(u=d=1),y=I.slice()),_=y.length,_<O&&y.unshift(0),n(A,y,O,c),u==-1&&(O=A.length,u=t(I,A,z,O),u<1&&(d++,n(A,z<O?ke:I,O,c))),O=A.length):u===0&&(d++,A=[0]),X[m++]=d,u&&A[0]?A[O++]=D[Ae]||0:(A=[D[Ae]],O=1);while((Ae++<pe||A[0]!==void 0)&&Q--);x=A[0]!==void 0}X[0]||X.shift()}if(g==1)S.e=l,Bt=x;else{for(m=1,d=X[0];d>=10;d/=10)m++;S.e=m+l*g-1,p(S,a?o+S.e+1:o,s,x)}return S}}();function p(e,t,n,r){var i,o,s,a,c,u,l,m,d,g=e.constructor;e:if(t!=null){if(m=e.d,!m)return e;for(i=1,a=m[0];a>=10;a/=10)i++;if(o=t-i,o<0)o+=h,s=t,l=m[d=0],c=l/R(10,i-s-1)%10|0;else if(d=Math.ceil((o+1)/h),a=m.length,d>=a)if(r){for(;a++<=d;)m.push(0);l=c=0,i=1,o%=h,s=o-h+1}else break e;else{for(l=a=m[d],i=1;a>=10;a/=10)i++;o%=h,s=o-h+i,c=s<0?0:l/R(10,i-s-1)%10|0}if(r=r||t<0||m[d+1]!==void 0||(s<0?l:l%R(10,i-s-1)),u=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(o>0?s>0?l/R(10,i-s):0:m[d-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,u?(t-=e.e+1,m[0]=R(10,(h-t%h)%h),e.e=-t||0):m[0]=e.e=0,e;if(o==0?(m.length=d,a=1,d--):(m.length=d+1,a=R(10,h-o),m[d]=s>0?(l/R(10,i-s)%R(10,s)|0)*a:0),u)for(;;)if(d==0){for(o=1,s=m[0];s>=10;s/=10)o++;for(s=m[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,m[0]==Y&&(m[0]=1));break}else{if(m[d]+=a,m[d]!=Y)break;m[d--]=0,a=1}for(o=m.length;m[--o]===0;)m.pop()}return b&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function Z(e,t,n){if(!e.isFinite())return Ft(e);var r,i=e.e,o=F(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ne(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+ne(-i-1)+o,n&&(r=n-s)>0&&(o+=ne(r))):i>=s?(o+=ne(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ne(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ne(r))),o}function Ee(e,t){var n=e[0];for(t*=h;n>=10;n/=10)t++;return t}function Ce(e,t,n){if(t>An)throw b=!0,n&&(e.precision=n),Error(It);return p(new e(Ne),t,1,!0)}function H(e,t,n){if(t>Ye)throw Error(It);return p(new e(Se),t,n,!0)}function Lt(e){var t=e.length-1,n=t*h+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function ne(e){for(var t="";e--;)t+="0";return t}function Et(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/h+4);for(b=!1;;){if(n%2&&(o=o.times(t),kt(o.d,s)&&(i=!0)),n=M(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}t=t.times(t),kt(t.d,s)}return b=!0,o}function At(e){return e.d[e.d.length-1]&1}function Rt(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;)if(r=new e(t[o]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function Ze(e,t){var n,r,i,o,s,a,c,u=0,l=0,m=0,d=e.constructor,g=d.rounding,x=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(b=!1,c=x):c=t,a=new d(.03125);e.e>-2;)e=e.times(a),m+=5;for(r=Math.log(R(2,m))/Math.LN10*2+5|0,c+=r,n=o=s=new d(1),d.precision=c;;){if(o=p(o.times(e),c,1),n=n.times(++l),a=s.plus(B(o,n,c,1)),F(a.d).slice(0,c)===F(s.d).slice(0,c)){for(i=m;i--;)s=p(s.times(s),c,1);if(t==null)if(u<3&&be(s.d,c-r,g,u))d.precision=c+=10,n=o=a=new d(1),l=0,u++;else return p(s,d.precision=x,g,b=!0);else return d.precision=x,s}s=a}}function re(e,t){var n,r,i,o,s,a,c,u,l,m,d,g=1,x=10,y=e,_=y.d,S=y.constructor,X=S.rounding,A=S.precision;if(y.s<0||!_||!_[0]||!y.e&&_[0]==1&&_.length==1)return new S(_&&!_[0]?-1/0:y.s!=1?NaN:_?0:y);if(t==null?(b=!1,l=A):l=t,S.precision=l+=x,n=F(_),r=n.charAt(0),Math.abs(o=y.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=F(y.d),r=n.charAt(0),g++;o=y.e,r>1?(y=new S("0."+n),o++):y=new S(r+"."+n.slice(1))}else return u=Ce(S,l+2,A).times(o+""),y=re(new S(r+"."+n.slice(1)),l-x).plus(u),S.precision=A,t==null?p(y,A,X,b=!0):y;for(m=y,c=s=y=B(y.minus(1),y.plus(1),l,1),d=p(y.times(y),l,1),i=3;;){if(s=p(s.times(d),l,1),u=c.plus(B(s,new S(i),l,1)),F(u.d).slice(0,l)===F(c.d).slice(0,l))if(c=c.times(2),o!==0&&(c=c.plus(Ce(S,l+2,A).times(o+""))),c=B(c,new S(g),l,1),t==null)if(be(c.d,l-x,X,a))S.precision=l+=x,u=s=y=B(m.minus(1),m.plus(1),l,1),d=p(y.times(y),l,1),i=a=1;else return p(c,S.precision=A,X,b=!0);else return S.precision=A,c;c=u,i+=2}}function Ft(e){return String(e.s*e.s/0)}function je(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%h,n<0&&(r+=h),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=h;r<i;)e.d.push(+t.slice(r,r+=h));t=t.slice(r),r=h-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),b&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Pn(e,t){var n,r,i,o,s,a,c,u,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Ct.test(t))return je(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(wn.test(t))n=16,t=t.toLowerCase();else if(yn.test(t))n=2;else if(Tn.test(t))n=8;else throw Error(ie+t);for(o=t.search(/p/i),o>0?(c=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,r=e.constructor,s&&(t=t.replace(".",""),a=t.length,o=a-o,i=Et(r,new r(n),o,o*2)),u=Ie(t,n,Y),l=u.length-1,o=l;u[o]===0;--o)u.pop();return o<0?new r(e.s*0):(e.e=Ee(u,l),e.d=u,b=!1,s&&(e=B(e,i,a*4)),c&&(e=e.times(Math.abs(c)<54?R(2,c):Fe.pow(2,c))),b=!0,e)}function Bn(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:me(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Re(5,n)),t=me(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}function me(e,t,n,r,i){var o,s,a,c,u=1,l=e.precision,m=Math.ceil(l/h);for(b=!1,c=n.times(n),a=new e(r);;){if(s=B(a.times(c),new e(t++*t++),l,1),a=i?r.plus(s):r.minus(s),r=B(s.times(c),new e(t++*t++),l,1),s=a.plus(r),s.d[m]!==void 0){for(o=m;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=r,r=s,s=o,u++}return b=!0,s.d.length=m+1,s}function Re(e,t){for(var n=e;--t;)n*=e;return n}function Ot(e,t){var n,r=t.s<0,i=H(e,e.precision,1),o=i.times(.5);if(t=t.abs(),t.lte(o))return $=r?4:1,t;if(n=t.divToInt(i),n.isZero())$=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(o))return $=At(n)?r?2:3:r?4:1,t;$=At(n)?r?1:4:r?3:2}return t.minus(i).abs()}function Qe(e,t,n,r){var i,o,s,a,c,u,l,m,d,g=e.constructor,x=n!==void 0;if(x?(v(n,1,oe),r===void 0?r=g.rounding:v(r,0,8)):(n=g.precision,r=g.rounding),!e.isFinite())l=Ft(e);else{for(l=Z(e),s=l.indexOf("."),x?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,s>=0&&(l=l.replace(".",""),d=new g(1),d.e=l.length-s,d.d=Ie(Z(d),10,i),d.e=d.d.length),m=Ie(l,10,i),o=c=m.length;m[--c]==0;)m.pop();if(!m[0])l=x?"0p+0":"0";else{if(s<0?o--:(e=new g(e),e.d=m,e.e=o,e=B(e,d,n,r,0,i),m=e.d,o=e.e,u=Bt),s=m[n],a=i/2,u=u||m[n+1]!==void 0,u=r<4?(s!==void 0||u)&&(r===0||r===(e.s<0?3:2)):s>a||s===a&&(r===4||u||r===6&&m[n-1]&1||r===(e.s<0?8:7)),m.length=n,u)for(;++m[--n]>i-1;)m[n]=0,n||(++o,m.unshift(1));for(c=m.length;!m[c-1];--c);for(s=0,l="";s<c;s++)l+=ze.charAt(m[s]);if(x){if(c>1)if(t==16||t==8){for(s=t==16?4:3,--c;c%s;c++)l+="0";for(m=Ie(l,i,t),c=m.length;!m[c-1];--c);for(s=1,l="1.";s<c;s++)l+=ze.charAt(m[s])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>c)for(o-=c;o--;)l+="0";else o<c&&(l=l.slice(0,o)+"."+l.slice(o))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function kt(e,t){if(e.length>t)return e.length=t,!0}function In(e){return new this(e).abs()}function Nn(e){return new this(e).acos()}function Sn(e){return new this(e).acosh()}function Cn(e,t){return new this(e).plus(t)}function Ln(e){return new this(e).asin()}function En(e){return new this(e).asinh()}function Rn(e){return new this(e).atan()}function Fn(e){return new this(e).atanh()}function On(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=H(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?H(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=H(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(B(e,t,o,1)),t=H(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(B(e,t,o,1)),n}function Dn(e){return new this(e).cbrt()}function Mn(e){return p(e=new this(e),e.e+1,2)}function _n(e,t,n){return new this(e).clamp(t,n)}function vn(e){if(!e||typeof e!="object")throw Error(Le+"Object expected");var t,n,r,i=e.defaults===!0,o=["precision",1,oe,"rounding",0,8,"toExpNeg",-le,0,"toExpPos",0,le,"maxE",0,le,"minE",-le,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=He[n]),(r=e[n])!==void 0)if(M(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(ie+n+": "+r);if(n="crypto",i&&(this[n]=He[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Nt);else this[n]=!1;else throw Error(ie+n+": "+r);return this}function Kn(e){return new this(e).cos()}function qn(e){return new this(e).cosh()}function Dt(e){var t,n,r;function i(o){var s,a,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,Pt(o)){u.s=o.s,b?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;b?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[o]):(u.e=s,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return je(u,o.toString())}else if(c!=="string")throw Error(ie+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(a===43&&(o=o.slice(1)),u.s=1),Ct.test(o)?je(u,o):Pn(u,o)}if(i.prototype=f,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=vn,i.clone=Dt,i.isDecimal=Pt,i.abs=In,i.acos=Nn,i.acosh=Sn,i.add=Cn,i.asin=Ln,i.asinh=En,i.atan=Rn,i.atanh=Fn,i.atan2=On,i.cbrt=Dn,i.ceil=Mn,i.clamp=_n,i.cos=Kn,i.cosh=qn,i.div=Gn,i.exp=Vn,i.floor=Un,i.hypot=Wn,i.ln=Xn,i.log=zn,i.log10=Yn,i.log2=Hn,i.max=Zn,i.min=jn,i.mod=Qn,i.mul=Jn,i.pow=$n,i.random=er,i.round=tr,i.sign=nr,i.sin=rr,i.sinh=ir,i.sqrt=or,i.sub=sr,i.sum=ar,i.tan=ur,i.tanh=cr,i.trunc=lr,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Gn(e,t){return new this(e).div(t)}function Vn(e){return new this(e).exp()}function Un(e){return p(e=new this(e),e.e+1,3)}function Wn(){var e,t,n=new this(0);for(b=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return b=!0,new this(1/0);n=t}return b=!0,n.sqrt()}function Pt(e){return e instanceof Fe||e&&e.toStringTag===St||!1}function Xn(e){return new this(e).ln()}function zn(e,t){return new this(e).log(t)}function Hn(e){return new this(e).log(2)}function Yn(e){return new this(e).log(10)}function Zn(){return Rt(this,arguments,"lt")}function jn(){return Rt(this,arguments,"gt")}function Qn(e,t){return new this(e).mod(t)}function Jn(e,t){return new this(e).mul(t)}function $n(e,t){return new this(e).pow(t)}function er(e){var t,n,r,i,o=0,s=new this(1),a=[];if(e===void 0?e=this.precision:v(e,1,oe),r=Math.ceil(e/h),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)i=t[o],i>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);o<r;)i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else throw Error(Nt);else for(;o<r;)a[o++]=Math.random()*1e7|0;for(r=a[--o],e%=h,r&&e&&(i=R(10,h-e),a[o]=(r/i|0)*i);a[o]===0;o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=h)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<h&&(n-=h-r)}return s.e=n,s.d=a,s}function tr(e){return p(e=new this(e),e.e+1,this.rounding)}function nr(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function rr(e){return new this(e).sin()}function ir(e){return new this(e).sinh()}function or(e){return new this(e).sqrt()}function sr(e,t){return new this(e).sub(t)}function ar(){var e=0,t=arguments,n=new this(t[e]);for(b=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return b=!0,p(n,this.precision,this.rounding)}function ur(e){return new this(e).tan()}function cr(e){return new this(e).tanh()}function lr(e){return p(e=new this(e),e.e+1,1)}f[Symbol.for("nodejs.util.inspect.custom")]=f.toString;f[Symbol.toStringTag]="Decimal";var Fe=f.constructor=Dt(He);Ne=new Fe(Ne);Se=new Fe(Se);import{get as Mt,set as mr}from"lodash";import vt from"dayjs";import dr from"dayjs/plugin/utc";vt.extend(dr);var Je=class{constructor(t){this.logLevel=t.logLevel!==void 0?t.logLevel:0,this.name=t.name}set level(t){this.logLevel=t}get time(){return vt().utc().format("YYYY/MM/DD HH:mm:ss UTC")}get moduleName(){return this.name}isLogLevel(t){return t<=this.logLevel}error(...t){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...t),this):this}logWithError(...t){let n=t.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(n)}warning(...t){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...t),this):this}info(...t){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...t),this):this}debug(...t){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...t),this):this}},_t={},fr={};function W(e){let t=Mt(_t,e);if(!t){let n=Mt(fr,e);t=new Je({name:e,logLevel:n}),mr(_t,e,t)}return t}import{PublicKey as Ws}from"@solana/web3.js";import zs from"bn.js";import Cr from"big.js";import Ps from"bn.js";import K from"bn.js";import{PublicKey as nt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as pr}from"@solana/spl-token";import{PublicKey as C,SystemProgram as gr,SYSVAR_RENT_PUBKEY as hr}from"@solana/web3.js";function $e({pubkey:e,isSigner:t=!1,isWritable:n=!0}){return{pubkey:e,isWritable:n,isSigner:t}}var Qi=[$e({pubkey:pr,isWritable:!1}),$e({pubkey:gr.programId,isWritable:!1}),$e({pubkey:hr,isWritable:!1})];function Kt({publicKey:e,transformSol:t}){let n=qt(e.toString());if(n instanceof C)return t&&n.equals(de)?et:n;if(t&&n.toString()===de.toBase58())return et;if(typeof n=="string"){if(n===C.default.toBase58())return C.default;try{return new C(n)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function qt(e){try{return new C(e)}catch{return e}}var Ji=new C("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),$i=new C("SysvarRent111111111111111111111111111111111"),eo=new C("SysvarC1ock11111111111111111111111111111111"),br=new C("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),to=new C("Sysvar1nstructions1111111111111111111111111"),no=new C("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),ro=new C("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),io=new C("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),oo=new C("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),so=new C("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),ao=new C("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),uo=new C("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),co=new C("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),lo=new C("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),mo=new C("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),fo=new C("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),et=new C("So11111111111111111111111111111111111111112"),de=C.default;import{PublicKey as yr}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Gt}from"@solana/spl-token";var tt={chainId:101,address:yr.default.toBase58(),programId:Gt.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},ae={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Gt.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var rt=class{constructor({mint:t,decimals:n,symbol:r,name:i,skipMint:o=!1,isToken2022:s=!1}){if(t===de.toBase58()||t instanceof nt&&de.equals(t)){this.decimals=ae.decimals,this.symbol=ae.symbol,this.name=ae.name,this.mint=new nt(ae.address),this.isToken2022=!1;return}this.decimals=n,this.symbol=r||t.toString().substring(0,6),this.name=i||t.toString().substring(0,6),this.mint=o?nt.default:Kt({publicKey:t}),this.isToken2022=s}equals(t){return this===t?!0:this.mint.equals(t.mint)}},ue=rt;ue.WSOL=new rt(ee(J({},ae),{mint:ae.address}));import De from"big.js";import xr from"bn.js";import Ar from"decimal.js-light";import wr from"toformat";var Tr=wr,ye=Tr;var Oe=W("module/fraction"),it=ye(De),we=ye(Ar),kr={[0]:we.ROUND_DOWN,[1]:we.ROUND_HALF_UP,[2]:we.ROUND_UP},Pr={[0]:De.roundDown,[1]:De.roundHalfUp,[2]:De.roundUp},N=class{constructor(t,n=new xr(1)){this.numerator=se(t),this.denominator=se(n)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new N(this.denominator,this.numerator)}add(t){let n=t instanceof N?t:new N(se(t));return this.denominator.eq(n.denominator)?new N(this.numerator.add(n.numerator),this.denominator):new N(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(t){let n=t instanceof N?t:new N(se(t));return this.denominator.eq(n.denominator)?new N(this.numerator.sub(n.numerator),this.denominator):new N(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(t){let n=t instanceof N?t:new N(se(t));return new N(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(t){let n=t instanceof N?t:new N(se(t));return new N(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(t,n={groupSeparator:""},r=1){Number.isInteger(t)||Oe.logWithError(`${t} is not an integer.`),t<=0&&Oe.logWithError(`${t} is not positive.`),we.set({precision:t+1,rounding:kr[r]});let i=new we(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),n)}toFixed(t,n={groupSeparator:""},r=1){return Number.isInteger(t)||Oe.logWithError(`${t} is not an integer.`),t<0&&Oe.logWithError(`${t} is negative.`),it.DP=t,it.RM=Pr[r]||1,new it(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,n)}isZero(){return this.numerator.isZero()}};var Ko=W("Raydium_price");var ot=class{constructor({decimals:t,symbol:n="UNKNOWN",name:r="UNKNOWN"}){this.decimals=t,this.symbol=n,this.name=r}equals(t){return this===t}},Me=ot;Me.SOL=new ot(tt);import Ir from"bn.js";var Ho=new N(new Ir(100));var Nr=new K(0),ds=new K(1),fs=new K(2),ps=new K(3),gs=new K(5),Sr=new K(10),hs=new K(100),bs=new K(1e3),ys=new K(1e4),Vt=9007199254740991;function se(e){let t=W("Raydium_parseBigNumberish");if(e instanceof K)return e;if(typeof e=="string"){if(e.match(/^-?[0-9]+$/))return new K(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return typeof e=="number"?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=Vt||e<=-Vt)&&t.logWithError(`BigNumberish number overflow: ${e}`),new K(String(e))):typeof e=="bigint"?new K(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new K(0))}var Rs=W("Raydium_amount"),Fs=ye(Cr);import{PublicKey as Va,sendAndConfirmTransaction as Ua,Transaction as Xa,TransactionMessage as Ha,VersionedTransaction as Ya}from"@solana/web3.js";import ja from"axios";import{PublicKey as ea,ComputeBudgetProgram as ta,Transaction as ra,TransactionMessage as oa,Keypair as sa,VersionedTransaction as ua}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as la}from"@solana/spl-token";var fa=W("Raydium_txUtil");import{PublicKey as Lr,AddressLookupTableAccount as Ut}from"@solana/web3.js";import{PublicKey as wa}from"@solana/web3.js";import{getTransferFeeConfig as xa,unpackMint as Aa}from"@solana/spl-token";var Ba=W("Raydium_accountInfo_util");var Er={"2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17":new Ut({key:new Lr("2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17"),state:Ut.deserialize(Buffer.from("AQAAAP//////////d49+DAAAAAAAAQZMWvw7GUNJdaccNBVnb57OKakxL2BHLYvhRwVILRsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkG3fbh7nWP3hhCXbzkbM3athr8TYO5DSf+vfko2KGL/AVKU1D4XciC1hSlVnJ4iilt3x6rq9CmBniISTL07vagBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvDQdRqCgtphMF/imcN7mY5YRx2xE1A3MQ+L4QRaYK9u4GRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1H9aKveyXSu5StXElYRl9SD5As0DHE4N0GLnf84/siiKXVyp4Ez121kLcUui/jLLFZEz/BwZK3Ilf9B9OcsEAeDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu9N9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveU=","base64"))})};import{PublicKey as q}from"@solana/web3.js";var su=new q("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),au=new q("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),uu=new q("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),cu=new q("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),lu=new q("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),mu=new q("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),du=new q("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),fu=new q("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),pu=new q("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),gu=new q("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),hu=new q("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),bu=new q("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),yu=new q("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),wu=new q("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi");import{PublicKey as Au}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Bu}from"@solana/spl-token";import Su from"bn.js";var Ju=Buffer.from("amm_config","utf8"),$u=Buffer.from("pool","utf8"),ec=Buffer.from("pool_vault","utf8"),tc=Buffer.from("pool_reward_vault","utf8"),nc=Buffer.from("position","utf8"),rc=Buffer.from("tick_array","utf8"),ic=Buffer.from("operation","utf8"),oc=Buffer.from("pool_tick_array_bitmap_extension","utf8");import j from"bn.js";var Xt=new j(0),zt=new j(1),Ht=new j(-1),ve=new j(1).shln(64),Yt=new j(1).shln(128),Fr=ve.sub(zt);var Or=Yt.subn(1),fe=-443636,Te=-fe,Zt=new j("4295048016"),jt=new j("79226673521066979257578248091");var Dr=new j(10).pow(new j(6));var uc=new j("18446744073700000000");import bl from"bn.js";import{PublicKey as Uc}from"@solana/web3.js";import Hc from"bn.js";var dt=14;import Cc from"bn.js";var Ke=60;var Gl=G([V(8),U("bump"),ce("index"),E(""),he("protocolFeeRate"),he("tradeFeeRate"),ce("tickSpacing"),L(k(),8,"")]),Gr=G([he("blockTimestamp"),P("sqrtPriceX64"),P("cumulativeTimePriceX64"),L(P(),1,"")]),Vl=G([V(8),xt("initialized"),E("poolId"),L(Gr,1e3,"observations"),L(P(),5,"")]),Vr=G([U("rewardState"),k("openTime"),k("endTime"),k("lastUpdateTime"),P("emissionsPerSecondX64"),k("rewardTotalEmissioned"),k("rewardClaimed"),E("tokenMint"),E("tokenVault"),E("creator"),P("rewardGrowthGlobalX64")]),Ul=G([V(8),U("bump"),E("ammConfig"),E("creator"),E("mintA"),E("mintB"),E("vaultA"),E("vaultB"),E("observationId"),U("mintDecimalsA"),U("mintDecimalsB"),ce("tickSpacing"),P("liquidity"),P("sqrtPriceX64"),te("tickCurrent"),ce("observationIndex"),ce("observationUpdateDuration"),P("feeGrowthGlobalX64A"),P("feeGrowthGlobalX64B"),k("protocolFeesTokenA"),k("protocolFeesTokenB"),P("swapInAmountTokenA"),P("swapOutAmountTokenB"),P("swapInAmountTokenB"),P("swapOutAmountTokenA"),U("status"),L(U(),7,""),L(Vr,3,"rewardInfos"),L(k(),16,"tickArrayBitmap"),k("totalFeesTokenA"),k("totalFeesClaimedTokenA"),k("totalFeesTokenB"),k("totalFeesClaimedTokenB"),k("fundFeesTokenA"),k("fundFeesTokenB"),k("startTime"),L(k(),15*4-3,"padding")]),Ur=G([P("growthInsideLastX64"),k("rewardAmountOwed")]),Kr=G([V(8),U("bump"),E("nftMint"),E("poolId"),te("tickLower"),te("tickUpper"),P("liquidity"),P("feeGrowthInsideLastX64A"),P("feeGrowthInsideLastX64B"),k("tokenFeesOwedA"),k("tokenFeesOwedB"),L(Ur,3,"rewardInfos"),L(k(),8,"")]),Wl=G([V(8),U("bump"),E("poolId"),te("tickLowerIndex"),te("tickUpperIndex"),P("liquidity"),P("feeGrowthInsideLastX64A"),P("feeGrowthInsideLastX64B"),k("tokenFeesOwedA"),k("tokenFeesOwedB"),L(P(),3,"rewardGrowthInside"),L(k(),8,"")]),Wr=G([te("tick"),Tt("liquidityNet"),P("liquidityGross"),P("feeGrowthOutsideX64A"),P("feeGrowthOutsideX64B"),L(P(),3,"rewardGrowthsOutsideX64"),L(he(),13,"")]),Qt=G([V(8),E("poolId"),te("startTickIndex"),L(Wr,Ke,"ticks"),U("initializedTickCount"),L(U(),115,"")]),Xl=G([V(329),L(E(),100,"whitelistMints")]),qr=G([V(8),E("poolId"),L(L(k(),8),dt,"positiveTickArrayBitmap"),L(L(k(),8),dt,"negativeTickArrayBitmap")]);export{Gl as AmmConfigLayout,Vl as ObservationInfoLayout,Gr as ObservationLayout,Xl as OperationLayout,Ul as PoolInfoLayout,Kr as PositionInfoLayout,Ur as PositionRewardInfoLayout,Wl as ProtocolPositionLayout,Vr as RewardInfo,qr as TickArrayBitmapExtensionLayout,Qt as TickArrayLayout,Wr as TickLayout};
//# sourceMappingURL=layout.mjs.map